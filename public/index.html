<!DOCTYPE html>
<html>
    <head>
        <title>Plant a tree, cut a tree</title>
        <meta name="Assignment 2" content="create a tree!">
        <script src="/js/aframe.min.js"></script>
        <script src="/js/spherical-env-map.js"></script>

        <script src="/js/create-tree-component.js"></script>
        <script src="/js/remove-component.js"></script>
    </head>
    <body>
        <a-scene shadow="type:basic;">
                <a-assets timeout="3000">

                    <img crossorigin="anonymous" id="skymap" src="/assets/textures/CloudySky2.jpg">
                    <img crossorigin="anonymous" id="signmap" src="/assets/textures/sign_texture.png">
                    <a-asset-item crossorigin="anonymous" id="sign-obj" src="/assets/models/sign.obj">
                    <a-asset-item crossorigin="anonymous" id="tree-obj" src="/assets/models/Tree.obj">

                    
                    <a-asset-item crossorigin="anonymous" id="create-sound" src="/assets/sound/bing.ogg" response-type="arraybuffer"></a-asset-item>
                    <a-asset-item crossorigin="anonymous" id="delete-sound" src="/assets/sound/cut.ogg" response-type="arraybuffer"></a-asset-item>

                </a-assets>
                <a-entity position="0 2 6 " camera look-controls wasd-controls>
                    <a-entity cursor="fuse:false; fuseTimeout:500; rayOrigin:mouse;" ></a-entity>
                </a-entity>

                <a-entity id="createSound" sound="src:#create-sound"></a-entity>
                <a-entity id="deleteSound" sound="src:#delete-sound"></a-entity>
   
                <a-entity light="type:directional; castShadow:true; intensity:0.6; shadowBias:-0.000001; shadowMapWidth:1024; shadowMapHeight:1024;" position="-0.5 1 1"></a-entity>
                <a-entity light="type: ambient; intensity: 1.0; color:#bbb;"></a-entity>
            
                <a-obj-model create-tree-component src="#sign-obj" position="-2 0 2.5" scale="0.02 0.02 0.02" shadow="cast:true; receive:true;" spherical-env-map="src:#skymap;">
                    <a-animation attribute="rotation" begin="click" dur="2000" to="360 0 0"></a-animation>
                </a-obj-model>
                
                <!-- <a-sphere click-drag position="0 1.25 -5" radius="1.25" color="#EF2D5E"></a-sphere> -->

                <a-entity id="plane" geometry="primitive:plane; width:8; height:6;" position="0 0 0" rotation="-90 0 0" 
                    shadow="receive:true;" material="color:#D2B48C; sphericalEnvMap:#skymap; roughness:0.5; metalness:0.0;"></a-entity>
        
                <a-entity id="sky"
                    geometry="primitive:sphere; radius:500;"
                    material="shader:flat; src:#skymap; side:back; height:2048; width:2048"></a-entity>
                    
        </a-scene>
    </body>
</html>
